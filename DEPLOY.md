# Making the Dashboard Live for Multiple People

This guide explains how to run the app so **multiple people can view it** and **see updates** when you change the Tracker or USA report.

---

## 1. How updates work

- The dashboard reads from the **`output/`** folder (CSVs generated by `analysis.py`).
- When **you** update the Tracker or USA report, run **`python analysis.py`** (or click **Refresh data** in the app sidebar). The app then shows the new data for **everyone** on the next page load or refresh.
- So: **update Excel → run analysis (or click Refresh) → everyone sees latest.**

---

## 2. Option A: Run on a shared machine (simplest)

Run the app on a **computer that stays on** and that others can reach on your network (e.g. your PC, or a team server).

### Steps

1. **On that machine**, open the project folder and run:
   ```bash
   cd c:\Users\catwa\Desktop\people
   python -m streamlit run app.py
   ```

2. In the terminal you’ll see something like:
   ```
   Local URL: http://localhost:8501
   Network URL: http://192.168.1.25:8501
   ```

3. **Share the Network URL** (e.g. `http://192.168.1.25:8501`) with your team. Anyone on the same network can open that link in a browser.

4. **Keep the terminal (and machine) running** while people need access. To stop the app, press `Ctrl+C` in that terminal.

5. **When you update data:**  
   - Update the Tracker or USA report as usual.  
   - Either run `python analysis.py` on that machine, or open the app and click **Refresh data** in the sidebar.  
   - Everyone refreshes the page to see the latest data.

### Run in background (optional)

- **Windows:** Run in a separate terminal and leave it open, or use `pythonw` / a scheduled task.
- **Linux/Mac:** Use `nohup python -m streamlit run app.py &` or a process manager (e.g. systemd, pm2).

---

## 3. Option B: Streamlit Community Cloud (public URL)

You can host the app on **Streamlit Community Cloud** so people can open it via a link (no need to be on the same network).

### Requirements

- Project in a **GitHub** (or GitLab) repo.
- **Tracker and USA report** either:
  - committed in the repo (if not sensitive), or  
  - uploaded to a shared drive and loaded by URL (requires code changes).

### Steps (high level)

1. Push this project to a GitHub repo (include `requirements.txt`, `app.py`, `analysis.py`).
2. Go to [share.streamlit.io](https://share.streamlit.io), sign in with GitHub, and create a new app.
3. Point the app to your repo, main branch, file `app.py`.
4. Deploy. Streamlit will run `pip install -r requirements.txt` and `streamlit run app.py`. Your app will get a URL like `https://your-app-name.streamlit.app`.
5. **Data:** If the Excel files are in the repo, the app can run `analysis.py` on deploy or on “Refresh data”. If the files are elsewhere, you’d need to add code to read from a URL or shared drive.

### Limitation

- The Cloud app runs in Streamlit’s environment. It only has access to files in the repo (or URLs you add). So either put Tracker/USA report in the repo, or add a way in the app to load them from a shared location.

---

## 4. Option C: Tunnel (ngrok) for temporary sharing

If you run the app on **your own PC** but want to give a link to people **outside your network** (e.g. from home):

1. Run the app locally: `python -m streamlit run app.py`
2. Install [ngrok](https://ngrok.com/), then run: `ngrok http 8501`
3. Share the HTTPS URL ngrok shows (e.g. `https://abc123.ngrok.io`). Anyone with that link can open the app.
4. When you update Tracker/USA report, run `python analysis.py` or click **Refresh data**; everyone refreshes the page to see updates.

Your PC must stay on and the app + ngrok must keep running.

---

## 5. Summary

| Goal | What to do |
|------|------------|
| **Multiple people on same network** | Run `python -m streamlit run app.py` on a shared machine; share the **Network URL** (e.g. `http://192.168.1.25:8501`). |
| **Updates for everyone** | After updating Tracker/USA report, run `python analysis.py` or click **Refresh data** in the app; everyone refreshes the browser. |
| **Public / remote access** | Use Streamlit Community Cloud (with data in repo or via URL) or ngrok for temporary sharing. |

---

## 6. App sidebar

In the app sidebar you now have:

- **Last updated:** Time when `output/` was last generated (from `people_summary.csv`).
- **Refresh data (run analysis):** Runs `analysis.py` and reloads the app so the latest Tracker and USA report are reflected for all viewers.

Use **Refresh data** after any change to the Tracker or USA report so everyone sees the same, up-to-date view.
